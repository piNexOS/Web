@*
    Partial de seleção de OS
*@
@model ProgServicos.ProgServicosModel.PartialViewModelType

@{
    Layout = null;
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<style>
    .wrapper {
        width: 100%;
        max-height: calc(100vh - 180px);
        overflow-y: auto;
        overflow-x: hidden;
        position: relative;
        background-color: transparent;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    thead, tr > th {
        position: sticky;
        background: #ffffff;
    }

    thead {
        top: 0;
        z-index: 3;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    tr > th {
        z-index: 2;
    }

    thead tr > th:first-child {
        z-index: 4;
    }

    tbody tr td {
        background: #fff;
    }

    .wrapper::-webkit-scrollbar {
        width: 8px;
    }

    .wrapper::-webkit-scrollbar-thumb {
        background: #cfd1d2;
        border-radius: 4px;
    }
</style>

<div class="wrapper" style="margin-top:10px;">
    <table id="tabSelecao" class="table table-sm" style="font-size: small;">
        <thead>
            <tr>
                <th style="width:0px; visibility:hidden; display:none">0</th>

                <th style="text-align:center">
                    @Model.OrdensServico?.Count()
                </th>

                <th style="text-align:center">
                    <input id="chkAll" type="checkbox" onclick="checkAll(this)">
                </th>

                <th style="text-align:center">Matricula</th>
                <th style="text-align:center">HD</th>
                <th style="text-align:center">Ciclo</th>
                <th>Cliente</th>
                <th>Serviço</th>
                <th>Bairro</th>
                <th>Endereço</th>
            </tr>
        </thead>

        <tbody>
            @if (Model.OrdensServico == null) { return; }

            @{
                int Count = 0;
            }

            @foreach (var item in Model.OrdensServico)
            {
                Count++;
                <tr>
                    <td style="width:0px; visibility:hidden; display:none">
                        @item.IdOrdemServico
                    </td>

                    <td style="text-align:center">
                        @Count
                    </td>

                    <td style="text-align:center">
                        <input name="chkSel" type="checkbox">
                    </td>

                    <td style="text-align:center">
                        @string.Format("{0:00000000}", item.Matricula)
                    </td>

                    <td style="text-align:center">
                        @item.NumHD
                    </td>

                    <td style="text-align:center">
                        @item.Ciclo
                    </td>

                    <td>
                        @item.NomeCliente
                    </td>

                    <td>
                        @item.IdTabServicoNavigation.Descricao
                    </td>

                    <td>
                        @item.IdTabBairroNavigation.Descricao
                    </td>

                    <td>
                        @item.Endereco
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
